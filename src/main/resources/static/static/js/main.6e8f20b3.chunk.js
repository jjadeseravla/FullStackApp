(this.webpackJsonpjs=this.webpackJsonpjs||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(5),l=n.n(u),c=(n(11),n(12),n(1)),o=n(2),i=function(e){if(e.ok)return e;var t=new Error(e.statusText);return t.response=e,e.json().then((function(e){t.error=e})),Promise.reject(t)},s=n(3);function m(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Success!"))}var d=function(){var e=Object(a.useState)(""),t=Object(c.a)(e,2),n=t[0],u=t[1],l=Object(a.useState)(""),d=Object(c.a)(l,2),f=d[0],g=d[1],b=Object(a.useState)(""),h=Object(c.a)(b,2),p=h[0],E=h[1],v=Object(a.useState)(""),j=Object(c.a)(v,2),O=j[0],S=j[1],N=Object(a.useState)(!1),y=Object(c.a)(N,2),w=y[0],k=y[1],C=r.a.useState(n,f,p,O),x=Object(c.a)(C,2),q=x[0],J=x[1];return r.a.createElement("form",{onSubmit:function(e){var t;e.preventDefault(),J(Object(s.a)({},q,{isSubmitting:!0,errorMessage:null})),(t={firstName:n,secondName:f,email:p,gender:O},Object(o.a)("api/students",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)}).then(i)).then((function(){alert(JSON.stringify({firstName:q.firstName,secondName:q.secondName,email:q.email,gender:q.gender}))})).catch((function(e){J(Object(s.a)({},q,{isSubmitting:!1,errorMessage:e.message||e.statusText}))}))}},r.a.createElement("input",{value:q.firstName,onChange:function(e){return u(e.target.value)},placeholder:"First name",type:"text",name:"firstName",required:!0}),r.a.createElement("input",{value:q.secondName,onChange:function(e){return g(e.target.value)},placeholder:"Second name",type:"text",name:"secondName",required:!0}),r.a.createElement("input",{value:q.email,onChange:function(e){return E(e.target.value)},placeholder:"Email address",type:"email",name:"email",required:!0}),r.a.createElement("input",{value:q.gender,onChange:function(e){return S(e.target.value)},placeholder:"Gender. E.g Male or Female",type:"gender",name:"gender",required:!0}),r.a.createElement("button",{type:"submit",disabled:q.isSubmitting,onClick:function(){return k(!w)}},q.isSubmitting?"Loading...":"Submit"),w?r.a.createElement(m,null):null)};function f(){var e=Object(a.useState)(!1),t=Object(c.a)(e,2),n=t[0],u=t[1];return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return u(!n)}},"Add new Student +"),n?r.a.createElement(d,null):null)}var g=function(){var e=Object(a.useState)({students:[]}),t=Object(c.a)(e,2),n=t[0],u=t[1];Object(a.useEffect)((function(){Object(o.a)("api/students").then(i).then((function(e){return e.json()})).then((function(e){u({students:e},(function(){console.log(n.students[0].firstName)})),console.log(typeof e)})).catch((function(e){console.log(e.error.message),u({students:[]})}))}),[]);var l=n.students.length;return n.students&&l?r.a.createElement("div",null,r.a.createElement("h1",null,"Students"),r.a.createElement(f,null),r.a.createElement("h2",null,"Number of Students: "),l||null,r.a.createElement("div",null,n.students.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("h2",null,e.studentId),r.a.createElement("p",null,e.firstName),r.a.createElement("p",null,e.secondName),r.a.createElement("p",null,e.gender),r.a.createElement("p",null,e.email))})))):"No Students found"};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},6:function(e,t,n){e.exports=n(13)}},[[6,1,2]]]);
//# sourceMappingURL=main.6e8f20b3.chunk.js.map